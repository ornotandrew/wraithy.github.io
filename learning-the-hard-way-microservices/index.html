<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.eebca1600a8b6f49ac55.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:montserrat,system-ui,-apple-system,blinkmacsystemfont,"Segoe UI",roboto,"Helvetica Neue",arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",cambria,"Times New Roman",times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio-avatar,.bio p{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}article.blog-post>section>ol,article.blog-post>section>ul{padding-left:2rem}figure>figcaption.gatsby-resp-image-figcaption{color:var(--color-text-light);text-align:center}div.gatsby-resp-iframe-wrapper{padding-bottom:min(56.25%,calc(var(--maxWidth-wrapper)*.5625))!important}.global-wrapper{max-width:100%;padding-left:0;padding-right:0}.blog-post>section>figure,.blog-post>section>img{max-width:1000px}.blog-post>section>p>img{width:100%}.bio,.blog-post>header,.blog-post>section>*,.blog-post>section>figure>figcaption,.global-header,footer,main ol{margin-left:auto;margin-right:auto;max-width:var(--maxWidth-wrapper);padding-left:var(--spacing-5);padding-right:var(--spacing-5)}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 4.1.4"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Gatsby Starter Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=25ce7bd0b997cb6d621934e3e8c685fd" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#181818"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=25ce7bd0b997cb6d621934e3e8c685fd"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=25ce7bd0b997cb6d621934e3e8c685fd"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=25ce7bd0b997cb6d621934e3e8c685fd"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=25ce7bd0b997cb6d621934e3e8c685fd"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=25ce7bd0b997cb6d621934e3e8c685fd"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=25ce7bd0b997cb6d621934e3e8c685fd"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=25ce7bd0b997cb6d621934e3e8c685fd"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=25ce7bd0b997cb6d621934e3e8c685fd"/><title data-react-helmet="true">Learning the hard way: Microservices | Not A Blog</title><meta data-react-helmet="true" name="description" content="In late 2016, my team and I started building a brand new platform. Having a
blank slate like this is a developer’s dream — no legacy code, no backward…"/><meta data-react-helmet="true" property="og:title" content="Learning the hard way: Microservices"/><meta data-react-helmet="true" property="og:description" content="In late 2016, my team and I started building a brand new platform. Having a
blank slate like this is a developer’s dream — no legacy code, no backward…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="ornotandrew"/><meta data-react-helmet="true" name="twitter:title" content="Learning the hard way: Microservices"/><meta data-react-helmet="true" name="twitter:description" content="In late 2016, my team and I started building a brand new platform. Having a
blank slate like this is a developer’s dream — no legacy code, no backward…"/><link as="script" rel="preload" href="/webpack-runtime-7432465cdd6176a8e57c.js"/><link as="script" rel="preload" href="/framework-ecbe3e6056e934504f4e.js"/><link as="script" rel="preload" href="/app-420b22421c3deb5e2cbc.js"/><link as="script" rel="preload" href="/commons-ab2410dfbec4227df496.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-70d0b0944bd213e45a45.js"/><link as="fetch" rel="preload" href="/page-data/learning-the-hard-way-microservices/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3257411868.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><a class="header-link-home" href="/">Not A Blog</a></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">Learning the hard way: Microservices</h1><p>September 02, 2019</p></header><section itemProp="articleBody"><p>In late 2016, my team and I started building a brand new platform. Having a
blank slate like this is a developer’s dream — no legacy code, no backward
compatibility to worry about, and best of all, we could choose The Right
Technology™ for the job.</p>
<p>Three years later, after much pain and suffering, I’m here to do a bit of a
retrospective. Before diving in though, I’m going to acknowledge two things.</p>
<ul>
<li>
<p>Hindsight is 20/20</p>
</li>
<li>
<p>There is no silver bullet</p>
</li>
</ul>
<p>There’s no way of knowing if doing things differently would have resulted in
less frustration, but there were definitely some key pieces of <em>very important</em>
advice around domain/architecture which we chose to ignore. At the time, we
thought we knew better.</p>
<p>So for those who are embarking on similar journeys, here are some of the
biggest pieces of advice I regret not taking.</p>
<h2>Ignored advice #1: Conway’s Law</h2>
<p><a href="https://en.wikipedia.org/wiki/Conway%27s_law">This law</a> states that
inevitably, your system’s architecture will in some way resemble the
organisational structure of your company.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 30.8%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkklEQVQY05XQywrCQBBE0eMTFeMj0agIIiKo4MaNW3Hj/3+SDDQasjDYMNBTQ9+qab5VYOm/mqDEAq364wt7dBogfXSjn2KNDdpq6ZLLGHloO1xwinPGAU9cK3M9jGL2I+Y1+LAhYYLMsKroWwxS80AWYgLdIu2vGsW+yzDI4p6+71iJm3Zyx7wB2AvTshIkAYs3u4sFYVaJkIkAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Conway’s law"
        title="Conway’s law"
        src="/static/96005927a7675a35468d4e14b80d7208/00d43/conway.png"
        srcset="/static/96005927a7675a35468d4e14b80d7208/63868/conway.png 250w,
/static/96005927a7675a35468d4e14b80d7208/0b533/conway.png 500w,
/static/96005927a7675a35468d4e14b80d7208/00d43/conway.png 1000w,
/static/96005927a7675a35468d4e14b80d7208/712f7/conway.png 1181w"
        sizes="(max-width: 1000px) 100vw, 1000px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>As our platform has evolved, we’ve written and operated between 30 and 40
microservices, depending on how you count. Not all still exist, some have been
rewritten in a different language, etc.</p>
<p>The catch is that since we started building, we were never more than a handful
of backend developers. Because we were always a small, close-knit team, each
developer would work on all the services. Architecture decisions were made as a
group, and being on call meant dealing with potential issues in any area.</p>
<p>As you can probably guess from the high service-developer ratio, we ended up
with lots of “separated” yet tightly-coupled services. This hurt us a lot.</p>
<p>Because of the coupling, there was an incessant temptation to reduce our
workload by “just” deploying cross-service changes at the same time, which
flies in the face of the <a href="https://youtu.be/PFQnNFe27kU?t=1352">deploy
independently</a> principle.</p>
<h2>Ignored advice #2: You aren’t Google</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.400000000000006%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPElEQVQoz52STUsCURSGn+uYYJYRRZL4sdAojD60pVCOuYg+qGhnLSLKVVDRx6JNFGOC7lpWMNCPCIqgfkIt+x2jqxY3lDvQQqepd3MPnHOfc897LgC6URfZyhe560Yib1i7bxs72/JWFIsPj6WL49OaHAlOAX2pHr8fN8obFumaJFepa7rRCL8vr0flPbHVm8/5syNzRvYTAF/QA2lgDEgAvY7ATLUFRDcafCytIe+8bJmvlPfLyPEuuzQARFSc6AiMz50Q1s+JzR6SXKx6ngsLQpqa2DRfxOXBlXgaFiS1VmmTHFfQIf4j3bDs0KPOaWBPxeK3+z4gBGgd8kEgC6wAUTfQpkejgLdDPqRAGWDAzQtR/rQD2iM3v1DBDcjuNulgeDcwAaSAwb/swucwckSBU24X4yTtB6Rt02863z++XpFICQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="You vs Google"
        title="You vs Google"
        src="/static/f140b791d819236355eaa1387e173d1a/00d43/notgoogle_1.png"
        srcset="/static/f140b791d819236355eaa1387e173d1a/63868/notgoogle_1.png 250w,
/static/f140b791d819236355eaa1387e173d1a/0b533/notgoogle_1.png 500w,
/static/f140b791d819236355eaa1387e173d1a/00d43/notgoogle_1.png 1000w"
        sizes="(max-width: 1000px) 100vw, 1000px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>One of the lesser benefits of microservices is that they can scale
independently. In our initial design, we had already separated components which
were expected to be bottlenecks at scale. Reality check: It turns out the scale
where this would matter is way beyond anything we are likely to encounter.</p>
<p>In fact, not only were we guessing about domain boundaries, but each service
also came with a certain amount of overhead. We run a collection of sidecar
containers and <a href="https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/">Kubernetes
Daemonsets</a>
for operations functions (like monitoring and logging). It got to a point where
we were spending more resources on the supporting infrastructure than our
actual application. By a large amount.</p>
<p>Now, I’m not saying we’d be better off with a monolith, but if we had started
with a simpler architecture, we could have:</p>
<ul>
<li>
<p>Broken off pieces as we became more confident in the domain and found the
right abstractions</p>
</li>
<li>
<p>Gathered data around where the real performance bottlenecks were, if that
even became a problem</p>
</li>
<li>
<p>Saved a bunch of money by overlapping the supporting infrastructure</p>
</li>
</ul>
<h2>Ignored advice #3: You still aren’t Google</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.400000000000006%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVQoz2Owav/DYNP+09K77mX6C1/juB+bBGIc+27lLsjybbnNzSHJwMAgJMrGwslALDDt/M9g3vWfy7/mqeQHb225J+vUlJ06XnuvTY1XLmVn4AUZyMTAIMvAwKDOwMAgzcDAIMfAwMCC10CLzn8MfjVPGV77GjB83STI4NT9iGFzSjBDJS9EHxNEqQLIcAYGBg4oGzuw6v3PYNPzn8Gr4h5jl44004RMLiatiF6mFelBjLWcYKMYoUr5oC4EYXGoGCMDhQDkOi8GBgZPYjXIQF0gikMe5DJtBgaGSAYGcPjiBYxQDSoMDAwSONSwMzAwiDAwMJiT4mUpHOLQuGEwYGBgcCLGIJht2ni8zMXAwKADVSNCSuCz4QlDGajBWtSIaWYkQ7BaCgBSPDbVNyRmNwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="You vs Google"
        title="You vs Google"
        src="/static/f087604f4ae0cac56404986e977d158a/00d43/notgoogle_2.png"
        srcset="/static/f087604f4ae0cac56404986e977d158a/63868/notgoogle_2.png 250w,
/static/f087604f4ae0cac56404986e977d158a/0b533/notgoogle_2.png 500w,
/static/f087604f4ae0cac56404986e977d158a/00d43/notgoogle_2.png 1000w"
        sizes="(max-width: 1000px) 100vw, 1000px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>Another benefit of microservices is the freedom to choose the best tool for the
job. We were experimenting with languages, and were running services written in
<a href="https://www.python.org/">Python</a>, <a href="https://nodejs.org/en/">NodeJS</a> and
<a href="https://golang.org">Golang</a>. This was great in general, but became a nightmare
when writing shared libraries, since the same code had to be implemented in
three different languages.</p>
<p>I do believe in experimenting with different tools, but we ended up treating
everything as production-ready and long-lived. If you’re writing internal
shared libraries, the services using them are no longer an experiment.</p>
<p>I’ve had to come to terms with settling down with a single language. It turns
out that’s totally OK. Experiment as much as possible, but having a primary
stack which is repeatable and consistent is valuable too. This is even more
true if your services all operate under the same umbrella (e.g., web server
with database connection).</p>
<h2>Ignored advice #4: Everything is a trade-off</h2>
<p>It turns out that a microservice architecture has a <strong>lot</strong> of downsides. I
won’t go into them here (others have <a href="https://martinfowler.com/articles/microservice-trade-offs.html">already done
that</a>), but I
think it’s important to understand what you are signing up for.</p>
<p>If we had sat down and looked into the pros and cons, we would probably have
found that it would only start being worth it as we grew into multiple backend
teams, using different software to solve different problems.</p>
<p><figure class="gatsby-resp-image-figure" style="">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 43.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABI0lEQVQoz5WRu0pDYRCEzxNb2lr6Cla+g42SIkJiEoKVRmKZoOIhJ+eS/Jfd/7q7YhIURYRMNTswsHxTxBjleBlv7l5HBSIeVWNhEZm8TW8WvQIAWISZiYiYd4aJd9nu3jdEhHYSEfT4sHqsoCq0UtC2RLTtunK5SES2a+12yyzlugQEZlagmNlY06kuxYQeffaZc1Gv16ZaAQAaY+vaheg2G6eV96HRjUUAxNZ2zntw0KjGGtuoRoNm4sPbIYQAwEZnrck7Rshai/P0aZRYm7o2KhVDEJGqqdpNKyLfwJg5VCs3HqbbXh4P0nSUh/046Lv7SXh+ci/LhPAFbU/hN+1QvuP1lT0/s6cncHnh5rNkDaV0IPdTxZ87x7p28xnl9P9sHy//BhHBX8K1AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="The journey to net-positive value"
        title="_The journey to
net-positive value_"
        src="/static/b8b61f53c42a101608e1077011eaf5e9/00d43/value_graph.png"
        srcset="/static/b8b61f53c42a101608e1077011eaf5e9/63868/value_graph.png 250w,
/static/b8b61f53c42a101608e1077011eaf5e9/0b533/value_graph.png 500w,
/static/b8b61f53c42a101608e1077011eaf5e9/00d43/value_graph.png 1000w,
/static/b8b61f53c42a101608e1077011eaf5e9/aa440/value_graph.png 1500w,
/static/b8b61f53c42a101608e1077011eaf5e9/e8950/value_graph.png 2000w"
        sizes="(max-width: 1000px) 100vw, 1000px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span>
    <figcaption class="gatsby-resp-image-figcaption"><p><em>The journey to
net-positive value</em></p></figcaption>
  </figure></p>
<h2>The punishment</h2>
<p>We’ve spent time and effort going back the way we came. In January 2019, we
took a step back and looked for the biggest knot in our architecture. We
identified ten services which were coupled so tightly that bumping a single one
would collapse them all like a house of cards. We have since merged all ten to
be a single service, and haven’t looked back.</p>
<p>We’ve also slowly phased out our Python services, and all but one of our Golang
services. In some cases this has meant literal rewrites into NodeJS. We’re left
with a single set of shared JavaScript libraries to maintain.</p>
<h2>Learnings</h2>
<p>If I could go back in time and give myself some warnings, I would say the
following:</p>
<ul>
<li>
<p>Design for the problems you know you have, and be very meticulous when
guessing about the future.</p>
</li>
<li>
<p>It’s safer to start with a few larger services and carve them up as the
boundaries reveal themselves. A good rule of thumb is that one microservice
is better than two unless you can articulate the reason for splitting them.
Of course, there <em>are</em> many valid reasons, but make sure you know how they
apply before going ahead.</p>
</li>
<li>
<p>When experimenting and building MVP services, be very clear about what you
<em>won’t</em> do and stick to that. It’s easy to get trapped into maintaining
something which isn’t the right solution.</p>
</li>
</ul></section><hr/><footer><div class="bio"><div data-gatsby-image-wrapper="" style="width:50px;height:50px" class="gatsby-image-wrapper bio-avatar"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#d8d8d8;width:50px;height:50px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/edc8845de3e91d14d7747c6c19f61b4c/d4bf4/profile-pic.avif 50w,/static/edc8845de3e91d14d7747c6c19f61b4c/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" data-srcset="/static/edc8845de3e91d14d7747c6c19f61b4c/3faea/profile-pic.webp 50w,/static/edc8845de3e91d14d7747c6c19f61b4c/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/edc8845de3e91d14d7747c6c19f61b4c/d24ee/profile-pic.jpg" data-srcset="/static/edc8845de3e91d14d7747c6c19f61b4c/d24ee/profile-pic.jpg 50w,/static/edc8845de3e91d14d7747c6c19f61b4c/64618/profile-pic.jpg 100w" alt="Profile picture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/edc8845de3e91d14d7747c6c19f61b4c/d4bf4/profile-pic.avif 50w,/static/edc8845de3e91d14d7747c6c19f61b4c/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" srcSet="/static/edc8845de3e91d14d7747c6c19f61b4c/3faea/profile-pic.webp 50w,/static/edc8845de3e91d14d7747c6c19f61b4c/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/edc8845de3e91d14d7747c6c19f61b4c/d24ee/profile-pic.jpg" srcSet="/static/edc8845de3e91d14d7747c6c19f61b4c/d24ee/profile-pic.jpg 50w,/static/edc8845de3e91d14d7747c6c19f61b4c/64618/profile-pic.jpg 100w" alt="Profile picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p>Written by <strong>Andrew van Rooyen</strong> <!-- -->- a software engineer in Cape Town, South Africa 🇿🇦<!-- --> <a href="https://twitter.com/ornotandrew">You should follow them on Twitter.</a></p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/a-rant-about-alt-tab-in-elementary-os/">← <!-- -->A rant about alt+tab in elementary OS</a></li><li></li></ul></nav></main><footer>© <!-- -->2021<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-60309647-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/learning-the-hard-way-microservices/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-b227d9031ab4094e5021.js"],"app":["/app-420b22421c3deb5e2cbc.js"],"component---src-pages-404-js":["/component---src-pages-404-js-bb1698d01a7f9dde5caa.js"],"component---src-pages-index-js":["/component---src-pages-index-js-8fe1e2db39afb480eb1a.js"],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-20f655bfb94bd369e9d3.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-70d0b0944bd213e45a45.js"]};/*]]>*/</script><script src="/polyfill-b227d9031ab4094e5021.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-70d0b0944bd213e45a45.js" async=""></script><script src="/commons-ab2410dfbec4227df496.js" async=""></script><script src="/app-420b22421c3deb5e2cbc.js" async=""></script><script src="/framework-ecbe3e6056e934504f4e.js" async=""></script><script src="/webpack-runtime-7432465cdd6176a8e57c.js" async=""></script></body></html>